# CHAPTER3 : 다른 개발자와 코드 계약

- 다른 개발자들이 코드와 어떻게 상호작용하는지
- 코드 계약과 코드 계약의 세부 조항
- 세부 조항을 최소하하는 것이 어떻게 오용과 예측을 벗어나는 코드를 예방하는 데 도움이 되는지
- 세부 조항을 피할 수 없다면 체크와 어서션을 어떻게 사용할 수 있는가?

#### 3.1 자신의 코드와 다른 개발자의 코드

- 코드를 작성할 때 다음 세 가지를 고려하는 것이 유용하다.
    - 자신에게 명백하다고 해서 다른 사람에게도 명백한 것은 아니다.
    - 다른 개발자는 무의식중에 여러분의 코드를 망가뜨릴 수 있다.
    - 시간이 지남에 따라 자신의 코드를 기억하지 못한다.

#### 3.2 여러분이 작성한 코드의 사용법을 다른 사람들은 어떻게 아는가?

- 이름 확인
    - 자신의 코드를 다른 개발자가 어떻게 사용하는지에 대해 가장 잘 절달할 수 있는 방법
- 데이터 유형 확인
    - 다른 개발자가 코드를 오용하거나 오작동할 수 없도록 하기 위한 좋은 방법 중 하나
- 문서 읽기
    - 함수 및 클래스 수준의 비공식적인 주석문
    - 자바독과 같은 좀 더 공식적인 코드 내 문서
- 직접 물어보기
- 코드를 살펴보는 것

#### 3.3 코드 계약

- 계약의 세부 조항
- 세부 조항에 너무 의존하지 말라
    - 코드가 오용되거나 잘못 설정되면 컴파일이 안되도록 하거나, 객체를 생성하지 못하도록 하라

#### 3.4 체크 및 어서션

- 체크
    - 전제 조검 검사 : 코드를 실행하기 전에 시스템이 유효한 상태인지 확인
    - 사후 상태 검사 : 일부 코드를 실행한 후 시스템이 유효한 상태인지 확인
- 어서션

### 요약

- 코드베이스는 계속 변하고 일반적으로 여러 개발자에 의해 변경된다.
- 다른 개발자가 오용이 불가능하게 만드는 방식으로 코드를 작성하자
- 코드를 작성할 때 일종의 코드 계약이 항상 만들어진다. 명백한 항목이나 세부 조항과 같은 내용이 포함될 수 있다.
- 코드 계약의 세부조항은 다른 개발자가 계약을 준수하도록 하기 위한 방법이지만 신뢰할만한 방법은 아니다. 명백한 항목으로 계약의 내용을 전달하자.
- **컴파일러를 사용하여 계약을 확인하는 것이 가장 신뢰할 수 있는 방법이다. 이것이 불가능할때 체크나 어서션을 사용하여 실행 시간에 계약을 확인할 수 있다.**
